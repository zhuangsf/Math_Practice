# 小学数学四则运算出题工具 - 产品需求文档 (PRD)

## 1. 项目概述

### 1.1 产品名称
小学数学四则运算出题工具

### 1.2 产品目标
为小学生提供自动化的四则运算题目生成工具，帮助学生快速进行数学练习。

### 1.3 目标用户
- 小学生（主要用户）
- 小学数学老师
- 家长

---

## 2. 功能需求

### 2.1 核心功能

#### 2.1.1 运算类型选择（多选）
- [ ] 加法运算
- [ ] 减法运算
- [ ] 乘法运算
- [ ] 除法运算
- 支持多选，可选择一种或多种运算类型组合
- 至少选择一种运算类型才能生成题目

#### 2.1.2 运算元数量选择（单选）
- [ ] 二元运算（2个数字，1个运算符，如：3 + 5）
- [ ] 三元运算（3个数字，2个运算符，如：3 + 5 - 2）
- [ ] 四元运算（4个数字，3个运算符，如：3 + 5 - 2 × 4）
- 单选，只能选择一种运算元数量

#### 2.1.3 题目生成
- 根据选择的运算类型和运算元数量生成题目
- 题目数量可配置（默认20题，可调整20，50，100题）
- 一键生成题目
- 自动计算答案

#### 2.1.4 题目显示
- 清晰展示题目
- 显示题目序号
- 显示运算表达式
- 显示标准答案（可隐藏/显示切换）

#### 2.1.5 导出功能
- 支持导出为文本文件（.txt）
- 支持导出为PDF文件
- 可选择是否包含答案
- 文件命名格式：四则运算题_YYYYMMDD_HHMMSS.txt/pdf

### 2.2 辅助功能

#### 2.2.1 数值范围设置
- 可设置数字范围（默认：0-1000）
- 最小值：0
- 最大值：1000
- 除法题目保证能整除（无余数）

#### 2.2.2 打印功能
- 支持打印题目
- 支持打印答案（可选）

---

## 3. 非功能需求

### 3.1 性能要求
- 题目生成响应时间 < 1秒
- 支持100题批量生成
- 页面加载时间 < 3秒

### 3.2 兼容性
- 支持主流浏览器（Chrome、Edge、Firefox）
- 响应式设计，适配PC和平板设备

### 3.3 易用性
- 界面简洁友好，适合小学生使用
- 操作流程简单直观
- 提供操作提示

### 3.4 可靠性
- 答案计算100%准确
- 除法题目保证整除
- 不生成负数结果（针对小学低年级）

---

## 4. 用户界面设计

### 4.1 页面布局

```
┌─────────────────────────────────────────────────────┐
│              小学数学四则运算出题工具                  │
├─────────────────────────────────────────────────────┤
│                                                     │
│  【运算元数量】（单选）                                │
│  ⚪ 二元运算  ⚪ 三元运算  ⚪ 四元运算                 │
│                                                     │
│  【数值范围】                                         │
│  最小值: [0]  最大值: [1000]                         │
│                                                     │
│  【运算类型】（多选）                                  │
│  ☑ 加法  ☑ 减法  ☑ 乘法  ☑ 除法                     │
│                                                     │
│  【题目数量】                                         │
│  数量: [20] 题  （可选：20题 | 50题 | 100题）        │
│                                                     │
│  ☑ 显示答案（勾选则直接显示答案）                     │
│                                                     │
│  ┌─────────────────────────────────────────────┐   │
│  │            [生成题目]                         │   │
│  └─────────────────────────────────────────────┘   │
│                                                     │
├─────────────────────────────────────────────────────┤
│                                                     │
│  ┌──────────┬──────────┬──────────┬──────────┐      │
│  │ 第1题:   │ 第6题:   │ 第11题:  │ 第16题:  │      │
│  │ 25 + 37  │ 68 - 23  │ 15 × 6   │ 84 ÷ 7   │      │
│  │ = ?      │ = ?      │ = ?      │ = ?      │      │
│  │          │          │          │          │      │
│  │ 第2题:   │ 第7题:   │ 第12题:  │ 第17题:  │      │
│  │ 45 + 12  │ 90 - 35  │ 8 × 12   │ 72 ÷ 9   │      │
│  │ = ?      │ = ?      │ = ?      │ = ?      │      │
│  │          │          │          │          │      │
│  │   ...    │   ...    │   ...    │   ...    │      │
│  └──────────┴──────────┴──────────┴──────────┘      │
│                                                     │
│  ┌──────┐ ┌──────┐ ┌──────┐                         │
│  │导出TXT│ │导出PDF│ │  打印 │                        │
│  └──────┘ └──────┘ └──────┘                         │
│                                                     │
└─────────────────────────────────────────────────────┘
```

**说明：**
- 题目区域分为4列显示，每列显示等量的题目
- 如果题目数不是4的倍数，最后一列的题目数可能少一些
- 当"显示答案"选项勾选时，每个题目的答案会显示在"="后面
- 答案示例：`25 + 37 = 62`（显示答案模式）

### 4.2 交互流程

1. 用户选择运算类型（可多选）
2. 用户选择运算元数量（单选）
3. （可选）调整数值范围
4. （可选）调整题目数量
5. 点击"生成题目"按钮
6. 系统生成并显示题目
7. 用户可以查看答案、导出或打印

---

## 5. 技术实现建议

### 5.1 技术栈
- 前端：HTML + CSS + JavaScript（或使用Vue/React框架）
- PDF导出：jsPDF库
- 题目布局：CSS Grid（4列布局）
- 纯静态页面，无需后端服务

### 5.2 题目生成逻辑

#### 5.2.1 二元运算
- 随机生成两个数字（在指定范围内）
- 随机选择一种已选运算类型
- 计算答案
- 除法特殊处理：保证能整除

#### 5.2.2 三元运算
- 随机生成三个数字
- 随机选择两种已选运算类型
- 按标准运算顺序计算答案
- 注意减法和除法的约束（避免负数、保证整除）

#### 5.2.3 四元运算
- 随机生成四个数字
- 随机选择三种已选运算类型
- 按标准运算顺序（先乘除后加减）计算答案
- 确保所有步骤的结果都符合小学数学规范

### 5.3 约束规则

#### 5.3.1 加法
- 结果不超过最大值范围

#### 5.3.2 减法
- 被减数 ≥ 减数（保证结果非负）

#### 5.3.3 乘法
- 结果不超过最大值范围

#### 5.3.4 除法
- 被除数 ≥ 除数（除数不为0）
- 保证能整除（余数为0）

---

## 6. 开发计划

### 阶段一：基础功能开发
- 页面UI设计和实现
- 运算类型选择功能
- 运算元数量选择功能
- 题目生成核心逻辑

### 阶段二：功能完善
- 数值范围设置
- 题目数量设置
- 答案显示/隐藏
- 导出TXT功能

### 阶段三：增强功能
- 导出PDF功能
- 打印功能
- 历史记录功能
- 响应式优化

---

## 7. 验收标准

- [ ] 能够多选运算类型
- [ ] 能够单选运算元数量
- [ ] 能够正确生成二元、三元、四元运算题目
- [ ] 答案计算100%准确
- [ ] 除法题目保证整除
- [ ] 能够导出TXT文件
- [ ] 能够导出PDF文件
- [ ] 界面美观，操作流畅
- [ ] 在主流浏览器中正常运行

---

## 8. 风险和限制

### 8.1 风险
- 四元运算可能产生复杂的运算顺序，需要严格按照数学规则计算
- 多运算符组合可能产生边界情况，需要充分测试

### 8.2 限制
- 目前仅支持整数运算
- 暂不支持括号和小数
- 暂不支持自定义运算符优先级

---

## 9. 后续扩展方向

- 支持小数运算
- 支持括号运算
- 支持分数运算
- 添加计时功能
- 添加错题本功能
- 支持在线提交答案并自动批改
- 添加成绩统计和图表展示
- 支持难度等级选择（简单/中等/困难）

---

**文档版本**: v1.0
**创建日期**: 2026-01-26
**最后更新**: 2026-01-26
