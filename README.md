# 小学数学题目生成工具

一个为小学生设计的自动数学题目生成工具，支持四则运算和一元一次方程题目生成。

## 功能特性

### 四则运算功能
- ✅ **多种运算模式**：支持二元、三元、四元运算
- ✅ **四种运算类型**：加法、减法、乘法、除法（可多选）
- ✅ **灵活的数值范围**：可自定义最小值和最大值（默认0-1000）
- ✅ **题目数量选择**：支持20、50、100题三种选项
- ✅ **答案显示控制**：可选择是否显示答案
- ✅ **题目质量保证**：所有除法题目保证整除，不会生成以0作为被除数的无效题目
- ✅ **答题模式**：支持在线答题功能，可以输入答案并自动评分
- ✅ **评分系统**：自动计算得分、正确率、等级（优秀/良好/及格/需努力）
- ✅ **错题分析**：自动统计错题，按运算类型和难度级别分类
- ✅ **个性化辅导计划**：根据错题情况生成学习建议和推荐练习配置

### 一元一次方程功能
- ✅ **三种难度级别**：
  - **简单**：ax + b = c 形式
  - **中等**：ax + b = cx + d 形式（两边都有未知数）
  - **复杂**：a(x + b) = cx + d 形式（带括号，两边都有未知数）
- ✅ **题目数量选择**：支持20、50、100题三种选项
- ✅ **答案显示控制**：可选择是否显示答案

### 通用功能
- ✅ **页签切换**：支持在四则运算和一元一次方程之间切换
- ✅ **多格式导出**：支持导出TXT和PDF文件
- ✅ **打印功能**：直接打印题目
- ✅ **4列布局**：题目以4列网格显示，适合打印

## 技术栈

- **Vue 3** - 渐进式JavaScript框架
- **TypeScript** - 类型安全的JavaScript超集
- **Vite** - 下一代前端构建工具
- **Element Plus** - Vue 3 UI组件库
- **TailwindCSS** - 原子化CSS框架
- **jsPDF** - PDF生成库
- **Electron** - 跨平台桌面应用框架

## 项目结构

```
Math_Practice/
├── public/                      # 静态资源
├── src/
│   ├── assets/                  # 资源文件
│   │   └── styles/              # 全局样式
│   ├── components/              # Vue组件
│   │   ├── ControlPanel.vue     # 四则运算控制面板
│   │   ├── EquationControlPanel.vue  # 方程控制面板
│   │   ├── QuestionDisplay.vue  # 四则运算题目显示
│   │   ├── EquationDisplay.vue  # 方程题目显示
│   │   ├── ActionButtons.vue    # 操作按钮
│   │   ├── ScoreDisplay.vue     # 评分结果显示
│   │   ├── TutoringPlan.vue     # 个性化辅导计划
│   │   └── WrongQuestionAnalysis.vue  # 错题分析
│   ├── composables/             # 组合式函数
│   │   ├── useQuestionGenerator.ts  # 四则运算题目生成逻辑
│   │   ├── useEquationGenerator.ts  # 一元一次方程生成逻辑
│   │   ├── useExport.ts              # 导出功能
│   │   ├── useAnswering.ts          # 答题功能
│   │   ├── useScoring.ts            # 评分功能
│   │   ├── useTutoringPlan.ts       # 辅导计划生成
│   │   └── useWrongQuestionAnalysis.ts  # 错题分析
│   ├── utils/                   # 工具函数
│   │   ├── mathUtils.ts         # 数学运算
│   │   ├── validationUtils.ts   # 验证工具
│   │   └── numberUtils.ts       # 数字生成
│   ├── types/                   # TypeScript类型定义
│   ├── views/                   # 页面视图
│   │   ├── Home.vue             # 主页面（页签容器）
│   │   ├── ArithmeticPage.vue   # 四则运算页面
│   │   └── EquationPage.vue     # 一元一次方程页面
│   ├── App.vue                  # 根组件
│   └── main.ts                  # 应用入口
├── electron/                    # Electron相关文件
│   ├── main.js                  # Electron主进程文件
│   └── package.json             # Electron模块配置
├── index.html                   # HTML模板
├── package.json                 # 依赖配置
├── vite.config.ts               # Vite配置
└── tsconfig.json                # TypeScript配置
```

## 安装与运行

### 1. 安装依赖

```bash
npm install
```

### 2. 启动开发服务器

```bash
npm run dev
```

访问 `http://localhost:3000` 查看应用。

### 3. 构建生产版本

```bash
npm run build
```

构建产物将生成在 `dist` 目录中。

### 4. 预览生产构建

```bash
npm run preview
```

### 5. 打包为 Windows 可执行程序

项目已配置 Electron，可以将 Web 应用打包为 Windows 桌面应用程序，方便分享给好友使用。

#### 5.1 开发模式运行 Electron

```bash
# 先启动 Vite 开发服务器（在一个终端）
npm run dev

# 然后启动 Electron（在另一个终端）
npm run electron:dev
```

#### 5.2 打包 Windows 可执行程序

```bash
# 打包 Windows 安装程序和便携版
npm run electron:build:win
```

打包完成后，可执行文件将生成在 `release` 目录中：

- **安装程序**：`小学数学出题工具 Setup 1.0.0.exe` - 标准的 Windows 安装程序，可以安装到系统
- **便携版**：`小学数学出题工具-1.0.0-portable.exe` - 绿色便携版，无需安装，双击即可运行

#### 5.3 分享给好友

打包完成后，可以将 `release` 目录中的可执行文件分享给好友：

1. **推荐使用便携版**：直接发送 `小学数学出题工具-1.0.0-portable.exe` 文件，好友双击即可使用，无需安装
2. **或使用安装程序**：发送安装程序，好友运行后可以安装到系统，并创建桌面快捷方式

#### 5.4 注意事项

- 首次打包可能需要下载 Electron 二进制文件，请确保网络连接正常
- 打包后的文件大小约为 100-150MB（包含 Electron 运行时）
- 便携版和安装程序功能完全相同，只是使用方式不同

## 使用说明

### 四则运算
1. 切换到"四则运算"页签
2. **选择运算元数量**：选择二元、三元或四元运算
3. **设置数值范围**：调整最小值和最大值
4. **选择运算类型**：勾选需要的运算类型（至少选择一种）
5. **选择题目数量**：选择20、50或100题
6. **选择答题模式**：
   - **查看模式**：勾选"显示答案"可在生成时显示答案
   - **答题模式**：选择"答题模式"可在线答题并自动评分
7. **点击"生成题目"按钮**：生成题目
8. **查看或答题**：
   - 查看模式：题目将以4列布局显示
   - 答题模式：在输入框中输入答案，完成后点击"提交答案"
9. **查看评分结果**：答题模式下提交后显示得分、等级和统计信息
10. **查看错题分析**：自动统计错题，按运算类型和难度分类
11. **查看辅导计划**：根据错题情况获得个性化学习建议
12. **导出或打印**：选择导出TXT、导出PDF或直接打印

### 一元一次方程
1. 切换到"一元一次方程"页签
2. **选择难度级别**：选择简单、中等或复杂
3. **选择题目数量**：选择20、50或100题
4. **（可选）勾选"显示答案"**：如果需要在生成时显示答案
5. **点击"生成题目"按钮**：生成题目
6. **查看题目**：题目将以4列布局显示
7. **导出或打印**：选择导出TXT、导出PDF或直接打印

## 核心功能说明

### 运算约束

- **加法**：结果不超过最大值
- **减法**：被减数 ≥ 减数，结果非负
- **乘法**：结果不超过最大值，操作数不为0（避免无意义的0×运算）
- **除法**：
  - 保证整除（余数为0）
  - 被除数 ≥ 除数
  - 除数 ≠ 0
  - **被除数 ≠ 0**（避免生成如"0 ÷ 7 ÷ 6"这类结果恒为0的无意义题目）

### 运算优先级

遵循标准数学运算优先级：先乘除后加减，从左到右计算。

## 开发说明

### 代码规范

- 所有代码注释使用英文
- 格式：`// modify by jx + 具体修改内容英文描述`

### 类型定义

主要类型定义在 `src/types/index.ts` 中：

- `Question`: 四则运算题目对象
- `QuestionConfig`: 四则运算题目生成配置
- `OperationType`: 运算类型（'add' | 'subtract' | 'multiply' | 'divide'）
- `EquationQuestion`: 一元一次方程题目对象
- `EquationConfig`: 一元一次方程生成配置
- `EquationDifficulty`: 难度级别（'easy' | 'medium' | 'hard'）

### 组合式函数

- `useQuestionGenerator`: 四则运算题目生成逻辑
- `useEquationGenerator`: 一元一次方程生成逻辑
- `useExport`: 导出功能（TXT、PDF、打印）

## 浏览器支持

- Chrome (推荐)
- Edge
- Firefox
- Safari

## 许可证

MIT License

## 作者

Created with ❤️ for elementary school math practice.

---

**版本**: 1.0.0
**更新日期**: 2026-01-26

## 更新日志

### 2026-01-26 (最新)
- ✅ 新增答题模式功能，支持在线答题和自动评分
- ✅ 新增评分系统，显示得分、正确率、等级（优秀/良好/及格/需努力）和答题时间统计
- ✅ 新增错题分析功能，自动统计错题并按运算类型和难度级别分类
- ✅ 新增个性化辅导计划功能，根据错题情况生成学习建议和推荐练习配置
- ✅ 优化题目显示界面，支持答题模式下的答案输入和状态显示

### 2026-01-26
- ✅ 新增页签功能，支持在四则运算和一元一次方程之间切换
- ✅ 新增一元一次方程题目生成功能
  - 支持三种难度级别：简单（ax + b = c）、中等（ax + b = cx + d）、复杂（a(x + b) = cx + d）
  - 支持20、50、100题三种数量选择
  - 支持答案显示/隐藏
  - 支持导出TXT、PDF和打印功能
- ✅ 重构页面结构，将四则运算和方程功能分离为独立页面组件

### 2026-01-26
- ✅ 修复除法题目生成逻辑，确保不会生成以0作为被除数的无效题目（如"0 ÷ 7 ÷ 6"）
- ✅ 增强题目验证机制，确保所有生成的题目都有实际练习价值
